# 前端

> vue3  
> h5 + pc + 微信小程序

1. vue-cli
2. vue-router
3. 组件库

- h5/微信小程序: [taro](https://github.com/nervjs/taro)
- pc: [element-plus](https://github.com/element-plus/element-plus)

4. 后台管理: [vue-vben-admin](https://github.com/vbenjs/vue-vben-admin)

5less or sass

5. ts & eslint & style lint?
6. prettier格式化代码
7. webpack

# 后端

1. nginx
2. docker
3. mysql
4. fastAPI
5. redis
6. es?
7. cnd

# 表结构

1. 用户表:

| ID | 用户名      | 邮箱 | 密码密文 | 手机号  |
| --- |----------| ---- | --- |------|
| 雪花算法 | 必须 可以修改  | 需要验证(验证码) | 哈希加密 | 可选|

> 登录时 账户为邮箱或手机号

2. 标签表

| ID | UID| 名称  | 图标        | 颜色   | 
| --- |---------|-----------|------|------|

3. 卡片表

| ID | UID| TagID  | 名称        | 创建时间   |   简要概要  |   详细内容(md)  | 
| --- |---------|-----------|------|------|-----|-----|

4. 复习计划表

| ID | UID  | 名称  | 复习时间    | 
| --- |------|-----------|------|

自带默认

| ID  | UID  | 名称   | 复习时间(单位s)                            | 备注       | 需要时间  |
|-----|------|------|--------------------------------------|----------|-------|
| 1   | null | 标准模式 | 30min-1日-2日-4日-7日-15日-1月             | 根据百度百科而来 | 59day |
| 2   | null | 单次复习 | 1时                                   | 适用于单次复习  | 0day  |
| 3   | null | 超级复习 | 2时-1日-1日-1日-1日-1日-1日-1日-1日-1日-1日     | 高强度复习    | 10day |
| 4   | null | 超级复习 | 30min-1日-2日-3日-5日-8日-15日-1月-1月-1月   | 改良版的复习计划 | 95day |

5. 要复习的计划表

| ID | UID| CID(卡片ID)  | 复习计划ID        |已经复习的时间| 下一次复习的时间   |
| --- |---------|-----------|------|------|------------|

# 功能分析

1. 用户首页为复习页面
    - 复习页面  
      ![](./复习.png)
    - 需要数据当前要复习的卡片数据
    -

# 接口

`GET /review`  
获取需要复习的全部卡片

`GET /cards`  
获取全部卡片

数据格式如下:
```json
{
  "status": 1,
  "msg": "success",
  "data": [
    {}
  ]
}

```

data的格式

| ID   | 名称    | 标签名    |卡片标签图标| 卡片标签颜色   | 复习时间     | 
| --- |-------|------|-------|------|----------|
|int|string|string|string|string| datetime |

`GET /cards/{cid}`  
获取单个卡片的数据

```json
{
  "status": 1,
  "msg": "success",
  "data": {}
}

```

| ID   | 名称    | 标签名    |卡片标签图标| 卡片标签颜色   | 复习时间     | 简要概要   |   详细内容(md)  | 
| --- |-------|------|-------|------|----------|--------|-----|
|int|string|string|string|string| datetime | string |string|

`POST /review/{cid}`  
完成当前卡片

`POST /cards`  
创建卡片  
请求体:

| 名称    | 标签ID | 复习计划ID | 简要概要(提示内容) |   详细内容(md)  | 
|-------|------|--------|------------|------|
|string| int  | int    | string     | string| 


`POST /cards/{cid}`  
修改卡片  
请求体:

| 名称    | 标签ID | 复习计划ID | 简要概要(提示内容) |   详细内容(md)  | 
|-------|------|--------|------------|------|
|string| int  | int    | string     | string| 



# TODO:

使用webdav同步数据